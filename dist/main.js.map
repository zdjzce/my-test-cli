{"version":3,"file":"main.js","names":["program","require","create","init","actionMap","description","usages","alias","Object","keys","forEach","action","options","option","obj","flags","defaultValue","command","apply","_toConsumableArray","process","argv","slice","version","parse","length","outputHelp"],"sources":["../src/main.js"],"sourcesContent":["\nconst program = require('commander');\n\nconst create = require('./create.js'); // 项目创建\nconst init = require('./init.js'); // 项目初始化\n\n/**\n * cli 命令列表\n */\n\nlet actionMap = {\n  // 项目创建\n  create: {\n    description: '创建一个新的项目', // 描述\n    usages: [// 使用方法\n      'cverse-cli create ProjectName',\n      'cv create ProjectName',\n    ],\n    alias: 'cvc' // 命令简称\n  },\n  // 项目初始化\n  /* init: {\n    description: '初始化项目',\n    usages: [\n      'e-cli init',\n      'ec init',\n    ],\n    alias: 'tci'\n  }, */\n}\n\n// 添加create,init命令\nObject.keys(actionMap).forEach(action => {\n\n  if (actionMap[action].options) {\n    Object.keys(actionMap[action].options).forEach(option => {\n      let obj = actionMap[action].options[option];\n      program.option(obj.flags, obj.description, obj.defaultValue);\n    })\n  }\n\n  program\n    .command(action)\n    .description(actionMap[action].description)\n    .alias(actionMap[action].alias)\n    .action(() => {\n      switch (action) {\n        case 'create':\n          create(...process.argv.slice(3));\n          break;\n        case 'init':\n          init();\n          break;\n        default:\n          break;\n      }\n    })\n});\n\n// 项目版本\nprogram\n  .version(require('../package.json').version, '-v --version')\n  .parse(process.argv);\n\n/**\n * test-cli命令后不带参数的时候，输出帮助信息\n */\nif (!process.argv.slice(2).length) {\n  program.outputHelp();\n}"],"mappings":";;;;;;;;AACA,IAAMA,OAAO,GAAGC,OAAO,CAAC,WAAW,CAAC;AAEpC,IAAMC,MAAM,GAAGD,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;AACvC,IAAME,IAAI,GAAGF,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;;AAEnC;AACA;AACA;;AAEA,IAAIG,SAAS,GAAG;EACd;EACAF,MAAM,EAAE;IACNG,WAAW,EAAE,UAAU;IAAE;IACzBC,MAAM,EAAE;IAAC;IACP,+BAA+B,EAC/B,uBAAuB,CACxB;IACDC,KAAK,EAAE,KAAK,CAAC;EACf;EACA;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACAC,MAAM,CAACC,IAAI,CAACL,SAAS,CAAC,CAACM,OAAO,CAAC,UAAAC,MAAM,EAAI;EAEvC,IAAIP,SAAS,CAACO,MAAM,CAAC,CAACC,OAAO,EAAE;IAC7BJ,MAAM,CAACC,IAAI,CAACL,SAAS,CAACO,MAAM,CAAC,CAACC,OAAO,CAAC,CAACF,OAAO,CAAC,UAAAG,MAAM,EAAI;MACvD,IAAIC,GAAG,GAAGV,SAAS,CAACO,MAAM,CAAC,CAACC,OAAO,CAACC,MAAM,CAAC;MAC3Cb,OAAO,CAACa,MAAM,CAACC,GAAG,CAACC,KAAK,EAAED,GAAG,CAACT,WAAW,EAAES,GAAG,CAACE,YAAY,CAAC;IAC9D,CAAC,CAAC;EACJ;EAEAhB,OAAO,CACJiB,OAAO,CAACN,MAAM,CAAC,CACfN,WAAW,CAACD,SAAS,CAACO,MAAM,CAAC,CAACN,WAAW,CAAC,CAC1CE,KAAK,CAACH,SAAS,CAACO,MAAM,CAAC,CAACJ,KAAK,CAAC,CAC9BI,MAAM,CAAC,YAAM;IACZ,QAAQA,MAAM;MACZ,KAAK,QAAQ;QACXT,MAAM,CAAAgB,KAAA,SAAAC,kBAAA,CAAIC,OAAO,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,EAAC;QAChC;MACF,KAAK,MAAM;QACTnB,IAAI,CAAC,CAAC;QACN;MACF;QACE;IACJ;EACF,CAAC,CAAC;AACN,CAAC,CAAC;;AAEF;AACAH,OAAO,CACJuB,OAAO,CAACtB,OAAO,CAAC,iBAAiB,CAAC,CAACsB,OAAO,EAAE,cAAc,CAAC,CAC3DC,KAAK,CAACJ,OAAO,CAACC,IAAI,CAAC;;AAEtB;AACA;AACA;AACA,IAAI,CAACD,OAAO,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAACG,MAAM,EAAE;EACjCzB,OAAO,CAAC0B,UAAU,CAAC,CAAC;AACtB"}